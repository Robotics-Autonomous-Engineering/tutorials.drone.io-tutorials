<!DOCTYPE html>
<html lang="en">
  <head>
    {{ partial "head.html" . }}
  </head>
  <body class="single">
    {{ partial "header.html" . }}

    <main>
        <nav>
          <div class="sticky">
              <h1>Contents</h1>
              {{ .TableOfContents }}
          </div>
        </nav>
        <article>
            {{ if .Params.image }}
            <div class="image" style="background-image: url({{ .Params.image }});"></div>
            {{ end }}
            <header>
                <h1>{{ .Title }}<small>by @{{ .Params.author }}</small></h1>
            </header>
            <section class="content">{{ .Content }}</section>
        </article>
        <aside>
            <div class="sticky">
                {{ $related := .Site.RegularPages.Related . | first 3 }}
                {{ with $related }}
                <h1>Related</h1>
                <ul>
                    {{ range . }}
                    <li>
                        <a href="{{ .RelPermalink }}">
                          <span class="name">{{ .Title }}</span>
                          <span class="author">by @{{ .Params.author }}</span>
                        </a>
                    </li>
                    {{ end }}
                </ul>
                {{ end }}
            </div>
        </aside>
    </main>
    {{ partial "footer.html" . }}
  </body>
</html>
